---
import LayoutBlog from './LayoutBlog.astro'

interface Props {
    title: string;
    description: string;
    pubDate: string | Date;
    tags?: string[];
}

const { title, description, pubDate, tags = [] } = Astro.props;
const publishDate = new Date(pubDate);
const formattedDate = !isNaN(publishDate.getTime()) 
    ? publishDate.toLocaleDateString('es-ES', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    })
    : 'Fecha no disponible';
---

<LayoutBlog title={`${title} - Blog de Fernando Trejo`} description={description}>
    <article class="mx-auto max-w-[70ch] py-24 sm:py-32">
        <header class="mb-16">
            <time class="text-sm text-white/60 mb-4 block">
                {formattedDate}
            </time>
            <h1 class="text-4xl sm:text-5xl font-bold text-white/90 mb-6 leading-tight">
                {title}
            </h1>
            {tags.length > 0 && (
                <div class="flex flex-wrap gap-2">
                    {tags.map(tag => (
                        <span class="bg-white/5 border border-white/10 rounded-full px-3 py-1 text-sm text-white/70">
                            {tag}
                        </span>
                    ))}
                </div>
            )}
        </header>

        <div class="prose prose-invert max-w-none prose-p:text-white/70 prose-headings:text-white/90 prose-strong:text-white/90 prose-a:text-blue-400 prose-headings:font-bold prose-headings:tracking-tight prose-h2:text-2xl prose-h3:text-xl">
            <slot />
        </div>
    </article>
</LayoutBlog>
